---
permalink: /laravel/
title: Guía Laravel
categories: [BACKEND]
Date: 
---


image: https://www.smythsys.es/wordpress/wp-content/uploads/2017/07/laravel.png

Actualizado 01 Mar 2019 · Rev 2

# Contenido

- [Composer:](#composer)
- [Laravel](#laravel)



# Composer

Me sitúo en el "home" del usuario

{% highlight bash %}cd ~ {% endhighlight %}

Descargo el instalador
{% highlight bash %}php -r "copy('https://getcomposer.org/installer', 'composer-setup.php');"{% endhighlight %}


Verifico el instalador
{% highlight bash %}php -r "if (hash_file('sha384', 'composer-setup.php') === '48e3236262b34d30969dca3c37281b3b4bbe3221bda826ac6a9a62d6444cdb0dcd0615698a5cbe587c3f0fe57a54d8f5') { echo 'Installer verified'; } else { echo 'Installer corrupt'; unlink('composer-setup.php'); } echo PHP_EOL;"{% endhighlight %}


Compruebo que la carpeta donde voy a instalar composer (/usr/local/bin) se encuentra dentro del path de Linux

{% highlight bash %}echo $PATH{% endhighlight %}


Ejecuto la instalación en el directorio /usr/local/bin

{% highlight bash %}php composer-setup.php --install-dir=/usr/local/bin --filename=composer{% endhighlight %}


Elimino el instalador
{% highlight bash %}php -r "unlink('composer-setup.php');"{% endhighlight %}


Verifico que composer es accesible
{% highlight bash %}composer --version{% endhighlight %}


Verifico la ruta de instalación de Composer
{% highlight bash %}which composer{% endhighlight %}


Referencia: 

* https://getcomposer.org/doc/00-intro.md
* https://www.jesusamieiro.com/instalar-composer-de-forma-global-en-debian-o-en-cualquier-sistema-linux/

# Laravel

Me sitúo en:

{% highlight bash %}cd /var/www/html/{% endhighlight %}

Creo un proyecto laravel utilizando composer

{% highlight bash %}composer create-project laravel/laravel test --prefer-dist{% endhighlight %}

Levanto el servicio de laravel

{% highlight bash %}php artisan serve --host=179.4.196.49{% endhighlight %}

Se accede desde http://179.4.196.49:8000/

Para configurar el proyecto con la base de datos debemos ir al Archivo .env ubicado en la raíz de nuestro proyecto y configurar con las credenciales de postgres.

{% highlight bash %}DB_CONNECTION=pgsql
DB_HOST=127.0.0.1
DB_PORT=5432
DB_DATABASE=postgres
DB_USERNAME=postgres
DB_PASSWORD=root{% endhighlight %}

Después hay que actualizar el archivo “database.php” ubicado en la Ruta “Config/databese.php” 
Ahí deben reemplazar los siguientes parámetros.

‘default’ => env(‘DB_CONNECTION’, ‘pgsql’),

Luego debemos habilitar el driver de conexión de php para Postgres.

Se debe configurar php.ini y esta ubicado en /etc/php/7.3/apache2

Ahí debemos eliminar el ; de las extensiones php_pdo_pgsql y php_pgsql

Luego en la consola. Finalizamos la actualización limpiando cache.

{% highlight bash %}composer dump-autoload
php artisan view:clear
php artisan cache:clear{% endhighlight %}

Fuente: https://felipeahumada.wordpress.com/confuigurar-laravel-5-postgres/

Para comenzar el proyecto primero tenemos que definir la tabla que utilizaremos en base de datos
En este comando crearemos la tabla usuarios

{% highlight bash %}php artisan make:migration create_usuarios_table --create=usuarios {% endhighlight %}

Para crear los atributos modificamos el archivo database/migrations/%Timestamp%_create_usuarios_table

Para ejecutar la creación de las tabla y atributos ejecutamos:

{% highlight bash %}php artisan migrate{% endhighlight %}

Luego creamos el modelo con el siguiente comando:

{% highlight bash %}php artisan make:model Usuario{% endhighlight %}


El modelo es creado en app/Usuario.php

Luego creamos el controlador

{% highlight bash %}php artisan make:controller UsuarioController --resource{% endhighlight %}

El controlador lo actualizamos desde app/Http/UsuarioController.php

Agregamos los atributos y las rutas de las vistas necesarias para el index, create, edit y destroy

Las rutas de las vistas se realizan en resources/views/usuario

Para finalizar la configuración debemos actualizar el archivo de las rutas principal, este lo encontramos
en routes/web.php y  agregamos /usuario como recurso
